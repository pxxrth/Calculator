<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <link rel="StyleSheet" href="styles.css">
</head>
<body>
    <h1>Calculator</h1>
    <div id="calculator-container">
        <div id="display">0</div>
        <div>
            <button id="equalButton">=</button>
            <button id="clear">CE</button>
        </div>
        <div id="buttons-container">
            <div id="buttons">
                <button>9</button>
                <button>8</button>
                <button>7</button>
                <button>6</button>
                <button>5</button>
                <button>4</button>
                <button>3</button>
                <button>2</button>
                <button>1</button>
                <button>0</button>
                <button>.</button>
            </div>
            <div id="operator">
                <button>+</button>
                <button>-</button>
                <button>x</button>
                <button>รท</button>
            </div>
        </div>
</body>
<script>

const display = document.querySelector("#display")
        const equal = document.querySelector("#equalButton")
        const clear = document.querySelector("#clear")
        const numberButton = document.querySelectorAll("#buttons button")
        const operatorButton = document.querySelectorAll("#operator button")

        let num1 = ""
        let num2 = ""
        let operator = ""
        let isItSecondNumber = false;


        // store the first number
        numberButton.forEach(function(button) {
        button.addEventListener("click", function() {
        const value = button.textContent
        if (isItSecondNumber) {
        num2 += value;
        display.textContent = num2
        } else {
        num1 += value;
        display.textContent = num1
        }
        })
        })

        // operators after first number is stored
        operatorButton.forEach(function(button) {
        button.addEventListener("click", function() {
        operator = button.textContent;
        isItSecondNumber = true;
        })
        })

        // equate the stored numbers
        equal.addEventListener("click", function() {
        let result;
        const n1 = Number(num1)
        const n2 = Number(num2)

        if(operator === "+") {
        result = n1 + n2
        } else if (operator === "-") {
        result = n1 - n2
        } else if(operator === "x") {
        result = n1 * n2
        } else if(operator === "รท") {
        if(n2 === 0) {
        result = "ERROR"
        } else {
        result = n1 / n2
        }
        }

        display.textContent = result

        num1 = result.toString();
        num2 = ""
        operator = ""
        isItSecondNumber = false
        })

        // clear everything with CE
        clear.addEventListener("click", function() {
        display.textContent = '0'
        num1 = ""
        num2 = ""
        operator = ""
        isItSecondNumber = false;
        })



    
</script>
</html>